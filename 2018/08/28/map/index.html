<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Map">
  <meta name="generator" content="Hugo 0.55.6" />

  <title>맵 &middot; Awesome Patrick</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://tramamte.github.io/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://tramamte.github.io/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://tramamte.github.io/css/blackburn.css">

  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

  
  <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700|Nanum+Gothic+Coding:400,700|Raleway:400,700|Roboto+Mono" rel="stylesheet">
  

  

  
    
      
    
  

  


  
  

  

  <link rel="apple-touch-icon" sizes="57x57" href="https://tramamte.github.io/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://tramamte.github.io/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://tramamte.github.io/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://tramamte.github.io/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://tramamte.github.io/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://tramamte.github.io/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://tramamte.github.io/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://tramamte.github.io/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://tramamte.github.io/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://tramamte.github.io/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tramamte.github.io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://tramamte.github.io/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://tramamte.github.io/favicon-16x16.png">
<link rel="manifest" href="https://tramamte.github.io/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="https://tramamte.github.io/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  <i class="far fa-arrow-alt-circle-right fa-2x fa-fw" style="margin: 0; padding: 0;"></i>
</a>

<div id="menu">
  
  <a class="pure-menu-heading brand" href="https://tramamte.github.io/">Awesome<br>Patrick</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tramamte.github.io/"><i class='fas fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tramamte.github.io/topics/"><i class='fas fa-folder fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tramamte.github.io/tags/"><i class='fas fa-tag fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tramamte.github.io/posts/"><i class='fas fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://tramamte.github.io/about/"><i class='fas fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>
  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://tramamte.github.io/index.xml"><i class="fas fa-rss fa-fw"></i>RSS</a>
    </li>
    

  </ul>
</div>

</div>
<div id="menuBackground"></div>
  
  <div id="mask"></div>
  <div id="main">


<div class="header">
  <h1>맵</h1>
  <h2>Map</h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fas fa-calendar-alt fa-fw"></i>
    <time>Aug 28, 2018 23:43</time>
  </div>

  

  
  
  
  <div>
    <i class="fas fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://tramamte.github.io/topics/go">go</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fas fa-tag fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://tramamte.github.io/tags/syntax-go">syntax-go</a>
    
  </div>
  
  

</div>

  
<script>
  function toggleToc() {
    var x = document.getElementById("toc");
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
  }
</script>

<div class="post-meta">
<div>
  <i class="fas fa-file-alt fa-fw"></i>
  <a href="javascript:toggleToc();">Table of Contents</a>
</div>
<div id="toc" style="display: none;"><nav id="TableOfContents">
<ul>
<li><a href="#맵-타입">맵 타입</a></li>
<li><a href="#생성-및-초기화">생성 및 초기화</a>
<ul>
<li><a href="#리터럴-literal-초기화">리터럴 (literal) 초기화</a></li>
<li><a href="#동적-할당">동적 할당</a></li>
</ul></li>
<li><a href="#접근-추가-삭제">접근/추가/삭제</a>
<ul>
<li><a href="#접근-추가">접근/추가</a>
<ul>
<li><a href="#comma-ok-형식">comma-ok 형식</a></li>
</ul></li>
<li><a href="#삭제">삭제</a></li>
</ul></li>
</ul>
</nav></div>
</div>



  

<p>배열이나 슬라이스는 저장된 각 요소에 접근하기 위한 키로 숫자를 사용하는 자료구조이다. 반면 맵은 키로 숫자가 아닌 다양한 타입을 사용할 수 있다.</p>

<p>Python의 <em>dict</em> 및 Ruby의 <em>hash</em> 에 해당한다고 볼 수 있다.</p>

<h1 id="맵-타입">맵 타입</h1>

<p>맵 타입은 다음과 같이 정의한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4">MapType     = &#34;map&#34; &#34;[&#34; KeyType &#34;]&#34; ElementType .</pre></div>
<p>&ldquo;map&rdquo;이라는 키워드 뒤에 키 타입과 요소 타입을 각각 기술한다. 예를 들어 문자열을 키로 하고 정수를 저장하는 맵은 다음과 같이 쓸 수 있다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">var</span> m <span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">int</span></code></pre></div>
<h1 id="생성-및-초기화">생성 및 초기화</h1>

<p>맵 역시 다른 타입들과 유사하게 리터럴 초기화나 동적 할당이 가능하다.</p>

<h2 id="리터럴-literal-초기화">리터럴 (literal) 초기화</h2>

<p>맵 타입 변수를 리터럴 초기화하기 위해서는 키와 값을 colon(:)으로 구분해 중괄호({}) 안에 묶어 쓴다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">rating <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">float32</span> {<span style="color:#4070a0">&#34;Go&#34;</span>:<span style="color:#40a070">5.0</span>, <span style="color:#4070a0">&#34;C/C++&#34;</span>:<span style="color:#40a070">4.5</span>, <span style="color:#4070a0">&#34;Python&#34;</span>:<span style="color:#40a070">4.0</span>}</code></pre></div>
<h2 id="동적-할당">동적 할당</h2>

<p>맵을 동적으로 할당하기 위해서는 슬라이스와 동일하게 <code>make()</code> 함수를 사용한다.</p>

<p><code>make()</code>를 이용해 슬라이스를 만들 때는 슬라이스의 길이(len) 및 용량(cap)을 입력 인수로 추가할 수 있었지만, 맵의 경우에는 용량만 입력할 수 있다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">rating <span style="color:#666">:=</span> <span style="color:#007020">make</span>(<span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">float32</span>)
rating <span style="color:#666">:=</span> <span style="color:#007020">make</span>(<span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">float32</span>, <span style="color:#40a070">100</span>)</code></pre></div>
<h1 id="접근-추가-삭제">접근/추가/삭제</h1>

<h2 id="접근-추가">접근/추가</h2>

<p>맵에 포함된 요소에 접근하기 위해서는 배열이나 슬라이스처럼 대괄호([]) 안에 키를 입력한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">rating[<span style="color:#4070a0">&#34;Go&#34;</span>] = <span style="color:#40a070">4.9</span>
go_point <span style="color:#666">:=</span> rating[<span style="color:#4070a0">&#34;Go&#34;</span>]</code></pre></div>
<p>맵을 사용할 때 한 가지 주의할 점은 존재하지 않는 키를 이용해 접근하는 경우이다. 배열이나 슬라이스의 경우를 먼저 살펴보자.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#60a0b0;font-style:italic">// array
</span><span style="color:#60a0b0;font-style:italic"></span>a <span style="color:#666">:=</span> [<span style="color:#40a070">3</span>]<span style="color:#902000">int</span> {<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>, <span style="color:#40a070">3</span>}
a[<span style="color:#40a070">3</span>] = <span style="color:#40a070">4</span></code></pre></div>
<p>위와 같이 존재하지 않는 키&mdash;범위를 벗어난 키&mdash;를 사용하는 경우 다음과 같은 오류가 발생한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4">invalid array index 3 (out of bounds for 3-element array)</pre></div>
<p>위 예를 그대로 슬라이스로 바꿔보자.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#60a0b0;font-style:italic">// slice
</span><span style="color:#60a0b0;font-style:italic"></span>s <span style="color:#666">:=</span> []<span style="color:#902000">int</span> {<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>, <span style="color:#40a070">3</span>}
s[<span style="color:#40a070">3</span>] = <span style="color:#40a070">4</span></code></pre></div>
<p>슬라이스는 크기가 정해진 타입이 아니므로 배열처럼 컴파일 오류가 발생하지는 않지만 다음과 같이 runtime error가 발생한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4">panic: runtime error: index out of range</pre></div>
<p>반면 맵의 경우는 존배하지 않는 키에 값을 입력하는 경우 <strong>요소를 추가</strong>한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#60a0b0;font-style:italic">// map
</span><span style="color:#60a0b0;font-style:italic"></span>m <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">int</span> {<span style="color:#4070a0">&#34;A&#34;</span>:<span style="color:#40a070">1</span>, <span style="color:#4070a0">&#34;B&#34;</span>:<span style="color:#40a070">2</span>, <span style="color:#4070a0">&#34;C&#34;</span>:<span style="color:#40a070">3</span>}
m[<span style="color:#4070a0">&#34;D&#34;</span>] = <span style="color:#40a070">4</span>
fmt.<span style="color:#06287e">Println</span>(m[<span style="color:#4070a0">&#34;D&#34;</span>])
<span style="color:#666">//</span> <span style="color:#40a070">4</span></code></pre></div>
<p>즉, 맵에 요소를 추가할 때는 새로운 키에 값을 입력하기만 하면 된다. <code>append()</code>를 이용해 요소를 추가하는 슬라이스에 비해 간단하다.</p>

<p>존재하지 않는 키를 이용해 요소값을 읽는 경우를 살펴보자. 주의할 점은 여기에 있다. 이 경우 배열이나 슬라이스는 위와 동일하게 오류가 발생한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">m <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">int</span> {<span style="color:#4070a0">&#34;A&#34;</span>:<span style="color:#40a070">1</span>, <span style="color:#4070a0">&#34;B&#34;</span>:<span style="color:#40a070">2</span>, <span style="color:#4070a0">&#34;C&#34;</span>:<span style="color:#40a070">3</span>}
fmt.<span style="color:#06287e">Println</span>(m[<span style="color:#4070a0">&#34;D&#34;</span>])</code></pre></div>
<p>존재하지 않는 키의 요소값을 읽는 경우 맵은 zero value를 반환한다. 즉, 위 예는 0을 출력한다. 문제는 &ldquo;D&rdquo;라는 키의 값이 0으로 입력된 것인지, &ldquo;D&rdquo;라는 키가 존재하지 않는 것인지 구분할 수 없다는 점이다.</p>

<h3 id="comma-ok-형식">comma-ok 형식</h3>

<p><a href="https://tramamte.github.io/2018/07/09/function/#복수개의-반환값">함수</a>로 돌아가 보자. Go 함수의 가장 큰 특징 중 하나가 반환값을 복수개로 지정할 수 있다는 것이다. 이 특징을 이용해서 Go에서는 첫 번째 반환값으로 원래 반환하려고 했던 값을, 두 번째 반환값으로 성공/실패 여부를 반환하는 방식이 많이 사용된다. 이를 줄여서 <strong>comma-ok 형식</strong>이라고 부른다. 반환값이 두 개 이상인 경우 각 반환값이 comma로 구분되고, 두 번째 반환값이 ok/not ok를 나타내기 때문이다.</p>

<p>요소를 읽을 때 맵은 comma-ok 형식으로 값을 반환한다. 키의 존재 여부는 두 번째 반환값을 통해 확인할 수 있다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">m <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">map</span>[<span style="color:#902000">string</span>]<span style="color:#902000">int</span> {<span style="color:#4070a0">&#34;A&#34;</span>:<span style="color:#40a070">0</span>, <span style="color:#4070a0">&#34;B&#34;</span>:<span style="color:#40a070">1</span>}
c, ok <span style="color:#666">:=</span> m[<span style="color:#4070a0">&#34;C&#34;</span>]
<span style="color:#007020;font-weight:bold">if</span> ok {
    fmt.<span style="color:#06287e">Println</span>(c)
} <span style="color:#007020;font-weight:bold">else</span> {
    fmt.<span style="color:#06287e">Println</span>(<span style="color:#4070a0">&#34;not exist&#34;</span>)
}</code></pre></div>
<h2 id="삭제">삭제</h2>

<p>맵의 요소를 삭제할 때는 <code>delete()</code> 함수를 사용한다.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> <span style="color:#007020">delete</span>(m <span style="color:#007020;font-weight:bold">map</span>[Type]Type1, key Type)</code></pre></div>

  

<div class="see-also">
  <i class="fas fa-archive fa-fw"></i>
  <strong>See Also</strong>
  <ul>
	
	<li><a href="https://tramamte.github.io/2018/08/21/slice/">슬라이스</a></li>
	
	<li><a href="https://tramamte.github.io/2018/08/06/array/">배열</a></li>
	
	<li><a href="https://tramamte.github.io/2018/07/26/function-type-and-anonymous-function/">함수 타입과 익명 함수</a></li>
	
	<li><a href="https://tramamte.github.io/2018/07/15/struct-basic/">구조체 기초</a></li>
	
	<li><a href="https://tramamte.github.io/2018/07/09/function/">함수</a></li>
	
  </ul>
</div>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24">
    
    <a href="https://tramamte.github.io/2018/08/21/slice/"><i class="fas fa-angle-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://tramamte.github.io/2018/08/21/slice/">슬라이스</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">&nbsp;</div>
  <div class="pure-u-10-24" style="text-align: right;">
    
    <nav class="next">
      <a href="https://tramamte.github.io/2018/08/29/docker-pull/">Docker 동시 다운로드 개수 조절</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://tramamte.github.io/2018/08/29/docker-pull/"><i class="fas fa-angle-right"></i></a>
    
  </div>
</div>



  

</div>

<div class="footer">
  <div class="small-print">
  <small>&copy2019 Patrick Yu. All rights reserved.</small>
</div>
<div class="small-print">
  <small>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with modified <a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a> theme.</small>
</div>

</div>

</div>
</div>
<script src="https://tramamte.github.io/js/ui.js"></script>






</body>
</html>

